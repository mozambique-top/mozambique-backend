$(document).ready(function(){$("html"),$("#container"),$("#prompt"),$("#toggle"),$("#about");var t=$("#scene");$(".sound").click(function(){$(this).toggleClass("sound-mute")}),FastClick.attach(document.body),window.onresize=_.debounce(f,200),window.onscroll=_.debounce(f,200);var i=$("#scene").get(0);new Parallax(i);$(document).ready(function(){$(".owl-carousel").owlCarousel({items:1,nav:!1,navText:['<i class="fa fa-angle-double-left"></i>','<i class="fa fa-angle-double-right"></i>'],loop:!0})});var o=2*Math.PI,e=5e3,h=100,a=100;(y=document.getElementById("stars")).width=y.offsetWidth,y.height=y.offsetHeight;var n=y.getContext("2d");n.lineWidth=.4;var s={top:-10,left:-10,right:y.width+10,bottom:y.height+10},r={x:Math.floor(y.width/2),y:Math.floor(y.height/2)},l={destX:0,destY:0,x:r.x,y:r.y},d=[],c=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=Math.random()*y.width,this.y=Math.random()*y.height,this.radius=1.2*Math.random()}return t.prototype.update=function(){this.y>s.bottom?this.y=s.top:this.y<s.top&&(this.y=s.bottom),this.x=Math.cos(1e-4)*(this.x-r.x)-Math.sin(1e-4)*(this.y-r.y)+r.x,this.y=Math.sin(1e-4)*(this.x-r.x)+Math.cos(1e-4)*(this.y-r.y)+r.y},t.prototype.draw=function(){n.beginPath(),n.fillStyle="#fff",Math.random()<.99&&n.arc(this.x,this.y,this.radius,0,o,!1),n.fill()},t}();function f(){y.width=y.offsetWidth,y.height=y.offsetHeight,t[0].style.width=window.innerWidth+"px",t[0].style.height=window.innerHeight+"px",s.right=y.width-1,s.bottom=y.height-1,n.lineWidth=.4,r={x:Math.floor(y.width/2),y:Math.floor(y.height/2)},l.destX=r.x,l.destY=.1*r.y,d.length=0;for(var i=Math.floor(y.width*y.height/e),o=0;o<i;o++)d.push(new c)}f(),u();function u(){requestAnimationFrame(u),n.clearRect(0,0,y.width,y.height),function(){var t=l.destX-l.x;(t>5||t<5)&&(l.x+=Math.floor(t/20));var i=l.destY-l.y;(t>5||t<5)&&(l.y+=Math.floor(i/20))}();for(var t=0;i=d[t];t++)i.update();!function(){for(var t,i=0;t=d[i];i++)for(var o,e=i+1;o=d[e];e++){var s=t.x-o.x,r=t.y-o.y,c=t.x-l.x,f=t.y-l.y;s<h&&s>-h&&r<h&&r>-h&&c<a&&c>-a&&f<a&&f>-a&&(n.beginPath(),n.strokeStyle="hsla(0,100%,100%,0.2)",n.moveTo(t.x+0,t.y+0),n.lineTo(o.x+0,o.y+0),n.stroke(),n.closePath())}}();var i;for(t=0;i=d[t];t++)i.draw()}document.body.addEventListener("mousemove",function(t){l.destX=t.clientX||t.touches&&t.touches[0].pageX,l.destY=t.clientY||t.touches&&t.touches[0].pageY}),document.body.addEventListener("mouseleave",function(t){l.destX=r.x,l.destY=r.y}),window.addEventListener("resize",f);require("mixitup")("#portfolio_grid");$(".portfolio li").click(function(){$(".portfolio li").removeClass("active"),$(this).addClass("active")}),$(".popup").magnificPopup({type:"image"}),$(".popup_content").magnificPopup({type:"inline",midClick:!0}),$(".portfolio_item").each(function(t){$(this).find("button").attr("href","#work_"+t),$(this).find(".podrt_descr").attr("id","work_"+t)});var y,m=(y=document.getElementById("spart")).getContext("2d"),g={},p=0;y.width=window.innerWidth,y.height=window.innerHeight,y.id="motion",document.body.appendChild(y),m.fillStyle="black",m.fillRect(0,0,y.width,y.height);var w=Math.floor(y.height/4),v=Math.floor(2*w);function x(){var t=Math.floor(0*Math.random())+1,i=Math.floor(Math.random()*v+w)+1;this.x=t,this.y=i,this.vx=5*Math.random()-2,this.vy=2*Math.random()-1,this.gravity=0,g[++p]=this,this.id=p,this.size=6*Math.random()-2,this.color="hsla(0,0%,"+parseInt(100*Math.random(),0)+"%,1)",this.color2="hsla(360,100%,"+parseInt(100*Math.random(),0)+"%,1)",this.color3="hsla(210,100%,"+parseInt(100*Math.random(),0)+"%,1)",this.color_selector=150*Math.random()-1}x.prototype.draw=function(){this.x+=this.vx,this.y+=this.vy,this.vy+=this.gravity,(this.x>y.width||this.y>y.height)&&delete g[this.id],this.color_selector<30&&this.color_selector>10?m.fillStyle=this.color2:this.color_selector<10?m.fillStyle=this.color3:m.fillStyle=this.color,m.fillRect(this.x,this.y,this.size,this.size)},setInterval(function(){m.fillStyle="black",m.fillRect(0,0,y.width,y.height);for(var t=0;t<.1;t++)new x;for(var t in g)g[t].draw()},30)});